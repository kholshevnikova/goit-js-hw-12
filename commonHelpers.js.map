{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n export function searchPhoto(searchImage) {\n   const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '43834463-9b577c35be085229738b1d5bb';\n\n    const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchImage,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    });\n    \n    return fetch(`${BASE_URL}?${params}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n            }\n            return response.json();\n  });\n}\n        \n    \n","export const createMarkup = images => {\n  return images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            </a>\n            <div class=\"gallery-text-container\">\n                <p class=\"gallery-text-description\"><span>likes</span>${likes}</p>\n                <p class=\"gallery-text-description\"><span>views</span>${views}</p>\n                <p class=\"gallery-text-description\"><span>comments</span> ${comments}</p>\n                <p class=\"gallery-text-description\"><span>downloads</span>${downloads}</p>\n            </div>\n        </li>`\n    )\n    .join('');\n};","import { searchPhoto } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    sourceAttr: 'href',\n  captionDelay: 250,\n});\n\nconst searchForm = document.querySelector('.search-form');\n// console.log(searchForm);\nconst searchInfo = document.querySelector('.js-search-input');\n// console.log(searchInfo);\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader')\n\n\n\nsearchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const searchQuery = form.elements.searchKeyword.value.trim();\n    \n    if (searchQuery === '') {\n        galleryEl.innerHTML = '';\n        event.target.reset();\n        iziToast.show({\n            message: 'Input field can not be empty',\n            position: 'topRight',\n            timeout: 2000,\n            color: 'red',\n        });\n\n        return;\n    }\ngalleryEl.innerHTML = '';\n    loaderEl.classList.remove('is-hidden');\n    \n\n    searchPhoto(searchQuery).then(imagesData => {\n        if (imagesData.total === 0) {\n            iziToast.error({\n              message: 'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topRight',\n              timeout: 2000,\n              color: 'red',\n            });\n        }\n\n        galleryEl.innerHTML = createMarkup(imagesData.hits);\n        lightbox.refresh();\n    }).catch(error => console.log(error)).finally(() => {\n        event.target.reset();\n        loaderEl.classList.add('is-hidden');\n    });\n}\n\n"],"names":["searchPhoto","searchImage","BASE_URL","API_KEY","params","response","createMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","searchForm","galleryEl","loaderEl","onSearch","event","searchQuery","iziToast","imagesData","error"],"mappings":"6vBACQ,SAASA,EAAYC,EAAa,CACvC,MAAMC,EAAW,2BACVC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACnC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CACnD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAE/B,OAAOA,EAAS,MAC5B,CAAG,CACH,CCnBO,MAAMC,EAAeC,GACnBA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,4CAExCL,CAAa;AAAA,gDACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,wEAGFC,CAAK;AAAA,wEACLC,CAAK;AAAA,4EACDC,CAAQ;AAAA,4EACRC,CAAS;AAAA;AAAA,cAGhF,EACA,KAAK,EAAE,ECPZ,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,WAAY,OACd,aAAc,GAChB,CAAC,EAED,MAAMC,EAAa,SAAS,cAAc,cAAc,EAErC,SAAS,cAAc,kBAAkB,EAE5D,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAIjDF,EAAW,iBAAiB,SAAUG,CAAQ,EAE9C,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EAEpB,MAAMC,EADOD,EAAM,cACM,SAAS,cAAc,MAAM,OAEtD,GAAIC,IAAgB,GAAI,CACpBJ,EAAU,UAAY,GACtBG,EAAM,OAAO,QACbE,EAAS,KAAK,CACV,QAAS,+BACT,SAAU,WACV,QAAS,IACT,MAAO,KACnB,CAAS,EAED,MACH,CACLL,EAAU,UAAY,GAClBC,EAAS,UAAU,OAAO,WAAW,EAGrCnB,EAAYsB,CAAW,EAAE,KAAKE,GAAc,CACpCA,EAAW,QAAU,GACrBD,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,QAAS,IACT,MAAO,KACrB,CAAa,EAGLL,EAAU,UAAYZ,EAAakB,EAAW,IAAI,EAClDT,EAAS,QAAO,CACxB,CAAK,EAAE,MAAMU,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAAE,QAAQ,IAAM,CAChDJ,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CAC1C,CAAK,CACL"}